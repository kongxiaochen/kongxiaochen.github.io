## 作用域 作用域链

        js中的作用域只包括全局作用域和函数作用域，指的是一个变量拥有定义的区域。
        这在js中是通过作用域链机制来实现的。
        每一个JS函数都是一个对象，拥有一个[[scope]]的内部属性（仅供引擎存取），在创建函数时，会创建一个预先包含        全局变量对象（当前执行环境的变量对象集合）的作用域链，保存在函数的[[scope]]属性中。
        函数执行时会创建一个称为”执行上下文“的内部对象（执行环境），它的作用域链被初始化为当前运行函数的[[scope]]属性中包含的对象，并且又有一个活动对象被创建并被推入作用域链的最前端，活动对象包含了所有局部变量，命名参数，参数集合以及this。
        标识符解析的过程就是沿着作用域链的查找过程。
        闭包函数为什么能有权访问另一个函数作用域中的变量，就是因为闭包是在该函数的执行环境中创建的，他的作用域链中包含了函数的活动对象。
        一般来说，执行环境的作用域不会改变，例外：  with 语句 和 try catch 语句会延长作用域链
        with语句会添加指定对象到作用域链的最前端
        try代码中发生错误时，catch语句会创建一个新的变量对象，其中包含着异常对象，并将它们添加到作用域的最前端。

## 变量声明  函数声明

       使用var，变量声明前置，变量的初始化代码仍在原来的位置
       使用函数声明语句时，函数名称和函数体均提前

## 执行上下文  变量对象

        执行函数时会创建一个称为执行上下文的内部对象，一个执行上下文定义了一个函数执行时的环境。每个执行上下文都有自己的作用域链，用于标识符解析，当执行上下文被创建时，它的作用域链初始化为当前运行函数的[[Scope]]所包含的对象。每个执行环境会有一个对应的变量对象
        执行上下文有两个阶段，进入执行上下文和执行代码，在进入执行上下文的时候，创建变量对象vo已经有了函数的所有形参、所有的函数声明、所有的变量声明，填充VO的顺序是: 函数的形参 -> 函数申明 -> 变量申明。然后才开始执行代码。
        执行环境（执行上下文）就是运行中的函数的意思
        http://www.cnblogs.com/jtxn/p/5426469.html